'use strict';
// Source: assets/scripts/fancydropdown.js
/**
* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne <brian@cherne.net>
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);

$(function () {
    
    $('.two-column .sub-menu').each(function () {
        $(this).parent().eq(0).hoverIntent({
            timeout: 100,
            over: function () {
                var current = $('.sub-menu:eq(0)', this);
                current.slideDown(100);
            },
            out: function () {
                var current = $('.sub-menu:eq(0)', this);
                current.fadeOut(200);
            }
        });
    });
});
// Source: assets/scripts/flexiblenav.js
// global variables 
var compareWidth, //previous width used for comparison
    detector, //the element used to compare changes
    smallScreen; // Size of maximum width of single column media query
jQuery(document).ready(function(){

    //set the initial values
    detector = jQuery('.js');
    compareWidth = detector.width();
    smallScreen = '768'; 

    if (jQuery(window).width() < smallScreen) {
        jQuery("body").addClass("one-column");      
    }
    else {
        jQuery("body").addClass("two-column");  
    }

    // Toggle for nav menu
    jQuery('.js .menu-button').click(function() {
        jQuery('[role="navigation"]').slideToggle('fast', function() {});           
    }); 
    // Toggle click for sub-menus on touch and or small screens
    jQuery('.touch .northeasternwebteam-menu-item-parent, .one-column .northeasternwebteam-menu-item-parent').click(function() {
        jQuery(this).find('.sub-menu').slideToggle('fast', function() {});
    }); 
    // Credit: http://webdeveloper2.com/2011/06/trigger-javascript-on-css3-media-query-change/
    jQuery(window).resize(function(){
        //compare everytime the window resize event fires
        if(detector.width()!=compareWidth){

            //a change has occurred so update the comparison variable
            compareWidth = detector.width();
            
            if (compareWidth < smallScreen) {
                jQuery("body").removeClass("two-column").addClass("one-column");                
            }
            else {
                jQuery("body").removeClass("one-column").addClass("two-column");    
            }
            if (compareWidth >= smallScreen) {
                jQuery('[role="navigation"]').show();
            }
        }

    }); 
    
 });
// Source: assets/scripts/index.js
$(document).ready(function(){
  $('video').trigger('play');
  $('video').on('ended', function(){
    $('video').load();
  });

  $('#nav-icon4').click(function(){
		$(this).toggleClass('open');
    $('.main-container').toggleClass('shift');
    $('.nav-container').toggleClass('shift');
	});


  $('li.nav-link').on('click', function(e) {
    var newTemplateId = $(this).attr('id');
    var newTemplate = $(this);
    var currentTemplateId = $('li.nav-link').find('h5.active').parent().attr('id');
    var currentTemplate = $('li.nav-link').find('h5.active');

    currentTemplate.removeClass('active');
    newTemplate.children('h5').addClass('active');
    $('.main-container').toggleClass('shift');
    $('.nav-container').toggleClass('shift');
    $('#nav-icon4').toggleClass('open');
    $('#'+currentTemplateId+'-template').addClass('hide-template');
    setTimeout(function(){
        $('#'+currentTemplateId+'-template').addClass('hide');
        $('#'+newTemplateId+'-template').removeClass('hide');
        $('#'+newTemplateId+'-template').removeClass('hide-template');
    }, 500);
    if (newTemplateId !== 'home') {
      $('video').trigger('pause');
    }
  });
});
